#! /bin/bash
# Script for updating copyright headers across the code

COPYRIGHT="Copyright (C) "
YEAR="[0-9]\{4\}"
RANGE=" - "
AUTHOR=" Open Microscopy Environment"
NEW_YEAR=$1

#Â Replace copyright ranges
git grep -l "${COPYRIGHT}${YEAR}${RANGE}${YEAR}${AUTHOR}" | \
xargs sed -i '' -e "s/\(${COPYRIGHT}${YEAR}${RANGE}\)${YEAR}\(${AUTHOR}\)/\1${NEW_YEAR}\2/"
